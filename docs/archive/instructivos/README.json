{
  "metadata": {
    "title": "ğŸ“š Instructivos COREBOARD",
    "path": "docs/archive/instructivos/README.md",
    "category": "instructivos",
    "tags": [
      "instructivos"
    ],
    "lastUpdated": "2025-11-15",
    "fileName": "README"
  },
  "content": "# ğŸ“š Instructivos COREBOARD\r\n\r\nSistema multi-tenant de gestiÃ³n de salones de belleza con arquitectura enterprise.\r\n\r\n## ğŸ“‹ Ãndice\r\n\r\n### ğŸš€ [Alta de Usuarios](alta-usuarios.md)\r\n- Sistema de invitaciones con tokens de un solo uso\r\n- Roles y permisos (owner, admin, employee, viewer)\r\n- Flujo de registro seguro\r\n\r\n### ğŸ”’ [Seguridad RLS](seguridad-rls.md)\r\n- PolÃ­ticas Row Level Security\r\n- Control de acceso por organizaciÃ³n\r\n- Permisos granulares por rol\r\n\r\n### ğŸ—„ï¸ [Base de Datos](base-datos.md)\r\n- Estructura multi-tenant completa\r\n- Triggers y funciones automÃ¡ticas\r\n- Relaciones y constraints\r\n\r\n### âš™ï¸ [Funcionalidades](funcionalidades.md)\r\n- GestiÃ³n de turnos y citas\r\n- Control de empleados y comisiones\r\n- Reportes y finanzas\r\n\r\n### ğŸ’» [Desarrollo](desarrollo.md)\r\n- ConfiguraciÃ³n del entorno\r\n- Scripts de desarrollo\r\n- API y hooks disponibles\r\n\r\n## ğŸ—ï¸ Arquitectura General\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚   Frontend      â”‚    â”‚   Supabase      â”‚    â”‚   PostgreSQL    â”‚\r\nâ”‚   (Next.js)     â”‚â—„â”€â”€â–ºâ”‚   Auth + API    â”‚â—„â”€â”€â–ºâ”‚   Multi-tenant  â”‚\r\nâ”‚                 â”‚    â”‚                 â”‚    â”‚   Database      â”‚\r\nâ”‚  - turnosStore  â”‚    â”‚                 â”‚    â”‚                 â”‚\r\nâ”‚  - useTurnos    â”‚    â”‚                 â”‚    â”‚                 â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n       â”‚                       â”‚                       â”‚\r\n       â–¼                       â–¼                       â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  Roles UI       â”‚    â”‚  RLS Policies  â”‚    â”‚  Organizations  â”‚\r\nâ”‚  (owner/admin/  â”‚    â”‚  (tenant iso-   â”‚    â”‚  (orgs)        â”‚\r\nâ”‚   employee)     â”‚    â”‚   lation)       â”‚    â”‚  - salon_       â”‚\r\nâ”‚                 â”‚    â”‚                 â”‚    â”‚    employees    â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n## ğŸ¯ CaracterÃ­sticas Principales\r\n\r\n- âœ… **Multi-tenant**: Aislamiento completo por organizaciÃ³n\r\n- âœ… **Invitaciones seguras**: Tokens hashed de un solo uso\r\n- âœ… **Control de acceso**: RLS + roles granulares\r\n- âœ… **Tiempo real**: WebSockets para actualizaciones live\r\n- âœ… **Sistema global de turnos**: `turnosStore` como fuente Ãºnica de verdad\r\n- âœ… **Hook unificado**: `useTurnos` para gestiÃ³n de turnos\r\n- âœ… **GestiÃ³n de empleados**: Asignaciones many-to-many con `salon_employees`\r\n- âœ… **Regla de oro**: Empleado = Usuario autenticado (user_id obligatorio)\r\n- âœ… **Responsive**: Optimizado para desktop y mobile\r\n- âœ… **Modo demo**: Datos de prueba para desarrollo\r\n\r\n## ğŸš€ Inicio RÃ¡pido\r\n\r\n```bash\r\n# Instalar dependencias\r\nnpm install\r\n\r\n# Configurar variables de entorno\r\ncp .env.example .env.local\r\n\r\n# Ejecutar migraciones\r\n# (se aplican automÃ¡ticamente al iniciar)\r\n\r\n# Iniciar desarrollo\r\nnpm run dev\r\n```\r\n\r\nAcceder a `http://localhost:3001`\r\n\r\n---\r\n\r\n**VersiÃ³n:** 2.0.0\r\n**Ãšltima actualizaciÃ³n:** Noviembre 2025\r\n\r\n## ğŸ“‹ Cambios Recientes (v2.0.0)\r\n\r\n### Sistema Global de Turnos\r\n- âœ… **`turnosStore`**: Estado centralizado (fuente Ãºnica de verdad)\r\n- âœ… **`useTurnos`**: Hook de alto nivel para componentes\r\n- âœ… **Validaciones integradas**: Conflictos horarios, empleados asignados\r\n\r\n### GestiÃ³n de Empleados\r\n- âœ… **Tabla `salon_employees`**: Asignaciones many-to-many (reemplaza `staff: string[]`)\r\n- âœ… **Regla de oro**: Empleado = Usuario autenticado (user_id obligatorio)\r\n- âœ… **`employeeValidator.ts`**: Validaciones centralizadas\r\n",
  "sections": []
}